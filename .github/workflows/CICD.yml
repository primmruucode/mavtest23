# This is a basic workflow to help you get started with Actions
name: CI
run-name: Deploy to ${{ inputs.deploy_target }} by @${{ github.actor }}
on:
  workflow_dispatch:

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  # This workflow contains a single job called "build"
  build:
      # Runs a single command using the runners shell
      name: CI test build maven 
      uses: ./.github/workflows/buildreuse.yml
      with: 
          path_to_settings: .maven/settings.xml
          path_to_pom: pom.xml
  deploy:
      needs: build
      #if: ${{ github.event.ref == 'refs/heads/develop' }}
      name: CD sandbox
      uses: ./.github/workflows/deployreuse.yml
